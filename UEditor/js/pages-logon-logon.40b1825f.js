(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-logon-logon"],{"59bc":function(t,n,o){var e=o("dd66");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var i=o("4f06").default;i("b21876c0",e,!0,{sourceMap:!1,shadowMode:!1})},ccf9:function(t,n,o){"use strict";var e=o("59bc"),i=o.n(e);i.a},dd66:function(t,n,o){var e=o("24fb");n=e(!1),n.push([t.i,".hb_page_wrap[data-v-bb23c730]{text-align:center;padding:%?120?% %?40?% %?40?% %?40?%}.hb_page_wrap .portrait[data-v-bb23c730]{width:%?200?%;height:%?200?%}.hb_page_wrap .portrait2[data-v-bb23c730]{width:%?500?%;height:%?200?%;margin-top:%?30?%}.lijipay[data-v-bb23c730]{width:100%;margin-top:%?50?%;position:relative}.lijipay .u-icon[data-v-bb23c730]{margin-right:%?10?%}.lijipay .u-size-default[data-v-bb23c730]{height:%?80?%!important;line-height:%?80?%!important;background-image:linear-gradient(90deg,#28c445,#28c445)!important;color:#fff}.new_user[data-v-bb23c730]{color:#666;margin:%?20?% 0}.other_box[data-v-bb23c730]{margin-top:%?100?%}.other_box .logon_type[data-v-bb23c730]{margin-top:%?50?%}.other_box .logon_type .logon_type_item[data-v-bb23c730]{text-align:center}.other_box .logon_type .logon_type_item uni-image[data-v-bb23c730]{width:%?120?%;height:%?120?%;border-radius:%?200?%}.other_box .logon_type .logon_type_item uni-view[data-v-bb23c730]{color:#333}.protocol[data-v-bb23c730]{width:100%;margin:%?60?% auto 0;color:#999;padding:0 0 10px 0;margin-bottom:10px;display:flex;align-items:flex-start;font-size:%?24?%;justify-content:center;position:fixed;bottom:2%;left:0;right:0;margin:0 auto}.protocol span[data-v-bb23c730]{color:#ff8848}.check_icon[data-v-bb23c730]{width:%?34?%;height:%?34?%;position:relative;top:0;margin-right:%?7?%}",""]),t.exports=n},e2f0:function(t,n,o){"use strict";o("7a82"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,o("e9c4"),o("ac1f"),o("5319"),o("4d63"),o("c607"),o("2c3e"),o("25f0");var e=getApp(),i={data:function(){return{Payloading:!1,check_on:!1}},onLoad:function(t){e.globalData.bindSaveParentId(t);var n=uni.getStorageSync("wechat_login_tag")||null;n&&this.checkWeChatCode()},onShow:function(){var t=uni.getStorageSync("token");t&&uni.switchTab({url:"/pages/me/me"})},methods:{yhxy:function(){uni.navigateTo({url:"/pages/Webview/Webview?url="+encodeURIComponent(JSON.stringify("/static/fuxy.html"))})},ysxy:function(){uni.navigateTo({url:"/pages/Webview/Webview?url="+encodeURIComponent(JSON.stringify("/static/ysxy.html"))})},checkWeChatCode:function(){var t=this.getUrlCode("code");t&&this.handleToLogin(t)},getUrlCode:function(t){return decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[,""])[1].replace(/\+/g,"%20"))||null},getWeChatCode:function(){var t=this;uni.setStorageSync("wechat_login_tag","true"),t.Payloading=!0,setTimeout((function(){t.Payloading=!1;var n=uni.getStorageSync("getOfficialAccountInfo").appid,o=encodeURIComponent(window.location.href);console.log(n,o),window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+n+"&redirect_uri="+o+"&response_type=code&scope=snsapi_userinfo&state=1#wechat_redirect"}),2e3)},handleToLogin:function(t){console.log("微信code",t);this.$api.WxwechatLogin({code:t}).then((function(t){uni.setStorageSync("token",t.data.result.token);var n="https://"+document.domain+"/#/";window.location.href=n})).catch((function(t){uni.showToast({title:t.data.msg,icon:"none",duration:2e3})}))},check_icon:function(){1==this.check_on?this.check_on=!1:this.check_on=!0},Topages:function(t){uni.navigateTo({url:t})},wxAppLogon:function(){var t=this;t.Payloading=!0,setTimeout((function(){t.Payloading=!1,uni.login({provider:"weixin",onlyAuthorize:!0,success:function(n){console.log("调起微信APP信息",n),t.$api.wxappLogon({code:n.code}).then((function(t){console.log("微信APP登录",t),uni.setStorageSync("token",t.data.result.token),uni.switchTab({url:"/pages/me/me"})})).catch((function(t){uni.showToast({title:t.data.msg,icon:"none",duration:2e3})}))},fail:function(t){console.log(t)}})}),2e3)},wxminiAppLogon:function(){var t=this;t.Payloading=!0,wx.getUserProfile({desc:"用于完善会员资料",success:function(n){console.log("用户信息",n);var o=n.userInfo.nickName,e=n.userInfo.avatarUrl;uni.login({provider:"weixin",success:function(n){console.log("获取小程序code",n.code),t.$api.wxminiappLogon({code:n.code,avatar:e,nickname:o}).then((function(n){t.Payloading=!1,console.log("微信小程序登录",n),uni.setStorageSync("token",n.data.result.token),uni.switchTab({url:"/pages/me/me"})})).catch((function(n){t.Payloading=!1,uni.showToast({title:n.data.msg,icon:"none",duration:2e3})}))}})},fail:function(n){t.Payloading=!1,console.log(n)}})}}};n.default=i},e443:function(t,n,o){"use strict";o.r(n);var e=o("e2f0"),i=o.n(e);for(var a in e)["default"].indexOf(a)<0&&function(t){o.d(n,t,(function(){return e[t]}))}(a);n["default"]=i.a},e85c:function(t,n,o){"use strict";o.d(n,"b",(function(){return i})),o.d(n,"c",(function(){return a})),o.d(n,"a",(function(){return e}));var e={uButton:o("eeee").default,uIcon:o("21cf").default,uDivider:o("6f79").default},i=function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("v-uni-view",[o("v-uni-view",{staticClass:"hb_page_wrap"},[o("v-uni-image",{staticClass:"portrait",attrs:{src:"/static/logo.png"}}),o("v-uni-view",{staticClass:"lijipay"},[o("u-button",{attrs:{type:"info",shape:"circle",ripple:!1,loading:t.Payloading},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.getWeChatCode()}}},[o("u-icon",{attrs:{name:"weixin-fill",color:"#fff",size:"42"}}),t._v("微信登录")],1)],1),o("v-uni-view",{staticClass:"new_user",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.Topages("/pages/logon/wxregister")}}},[t._v("新用户注册")]),o("v-uni-view",{staticClass:"other_box"},[o("u-divider",{attrs:{color:"#999999","half-width":"200","border-color":"#D9D9D9"}},[t._v("其他登录方式")]),o("v-uni-view",{staticClass:"logon_type"},[o("v-uni-view",{staticClass:"logon_type_item",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.Topages("/pages/logon/cipherLogon")}}},[o("v-uni-image",{attrs:{src:"/static/images/login_phone.png"}}),o("v-uni-view",[t._v("手机号")])],1)],1),o("v-uni-view",{staticClass:"protocol"},[o("v-uni-view",{staticClass:"dianji"},[0==t.check_on?o("v-uni-image",{staticClass:"check_icon",attrs:{src:"/static/images/icon_check_gray.png"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.check_icon()}}}):o("v-uni-image",{staticClass:"check_icon",attrs:{src:"/static/images/icon_check_on.png"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.check_icon()}}})],1),o("v-uni-view",[t._v("登录代表您已同意《"),o("span",{on:{click:function(n){n.stopPropagation(),arguments[0]=n=t.$handleEvent(n),t.yhxy.apply(void 0,arguments)}}},[t._v("用户协议")]),t._v("》和《"),o("span",{on:{click:function(n){n.stopPropagation(),arguments[0]=n=t.$handleEvent(n),t.ysxy.apply(void 0,arguments)}}},[t._v("隐私政策")]),t._v("》")])],1)],1)],1)],1)},a=[]},ec7f:function(t,n,o){"use strict";o.r(n);var e=o("e85c"),i=o("e443");for(var a in i)["default"].indexOf(a)<0&&function(t){o.d(n,t,(function(){return i[t]}))}(a);o("ccf9");var c=o("f0c5"),r=Object(c["a"])(i["default"],e["b"],e["c"],!1,null,"bb23c730",null,!1,e["a"],void 0);n["default"]=r.exports}}]);