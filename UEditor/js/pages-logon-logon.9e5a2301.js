(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-logon-logon"],{3245:function(t,n,e){var o=e("34ad");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=e("4f06").default;a("405a60fc",o,!0,{sourceMap:!1,shadowMode:!1})},"34ad":function(t,n,e){var o=e("24fb");n=o(!1),n.push([t.i,".hb_page_wrap[data-v-ae7654b0]{text-align:center;padding:%?120?% %?40?% %?40?% %?40?%}.hb_page_wrap .portrait[data-v-ae7654b0]{width:%?200?%;height:%?200?%}.hb_page_wrap .portrait2[data-v-ae7654b0]{width:%?500?%;height:%?200?%;margin-top:%?30?%}.lijipay[data-v-ae7654b0]{width:100%;margin-top:%?50?%;position:relative}.lijipay .u-icon[data-v-ae7654b0]{margin-right:%?10?%}.lijipay .u-size-default[data-v-ae7654b0]{height:%?80?%!important;line-height:%?80?%!important;background-image:linear-gradient(90deg,#28c445,#28c445)!important;color:#fff}.new_user[data-v-ae7654b0]{color:#666;margin:%?20?% 0}.other_box[data-v-ae7654b0]{margin-top:%?100?%}.other_box .logon_type[data-v-ae7654b0]{margin-top:%?50?%}.other_box .logon_type .logon_type_item[data-v-ae7654b0]{text-align:center}.other_box .logon_type .logon_type_item uni-image[data-v-ae7654b0]{width:%?120?%;height:%?120?%;border-radius:%?200?%}.other_box .logon_type .logon_type_item uni-view[data-v-ae7654b0]{color:#333}.protocol[data-v-ae7654b0]{width:100%;margin:%?60?% auto 0;color:#999;padding:0 0 10px 0;margin-bottom:10px;display:flex;align-items:flex-start;font-size:%?24?%;justify-content:center;position:fixed;bottom:2%;left:0;right:0;margin:0 auto}.protocol span[data-v-ae7654b0]{color:#ff8848}.check_icon[data-v-ae7654b0]{width:%?34?%;height:%?34?%;position:relative;top:0;margin-right:%?7?%}",""]),t.exports=n},a803:function(t,n,e){"use strict";var o=e("3245"),a=e.n(o);a.a},e2f0:function(t,n,e){"use strict";(function(t){e("7a82"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("e9c4"),e("ac1f"),e("5319"),e("4d63"),e("c607"),e("2c3e"),e("25f0");var o=getApp(),a={data:function(){return{Payloading:!1,check_on:!1}},onLoad:function(t){o.globalData.bindSaveParentId(t);var n=uni.getStorageSync("wechat_login_tag")||null;n&&this.checkWeChatCode()},onShow:function(){var t=uni.getStorageSync("token");t&&uni.switchTab({url:"/pages/me/me"})},methods:{yhxy:function(){uni.navigateTo({url:"/pages/Webview/Webview?url="+encodeURIComponent(JSON.stringify("/static/fuxy.html"))})},ysxy:function(){uni.navigateTo({url:"/pages/Webview/Webview?url="+encodeURIComponent(JSON.stringify("/static/ysxy.html"))})},checkWeChatCode:function(){var t=this.getUrlCode("code");t&&this.handleToLogin(t)},getUrlCode:function(t){return decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[,""])[1].replace(/\+/g,"%20"))||null},getWeChatCode:function(){var n=this;uni.setStorageSync("wechat_login_tag","true"),n.Payloading=!0,setTimeout((function(){n.Payloading=!1;var e=uni.getStorageSync("getOfficialAccountInfo").appid,o=encodeURIComponent(window.location.href);t("log",e,o," at pages/logon/logon.vue:150"),window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+e+"&redirect_uri="+o+"&response_type=code&scope=snsapi_userinfo&state=1#wechat_redirect"}),2e3)},handleToLogin:function(n){t("log","微信code",n," at pages/logon/logon.vue:161");this.$api.WxwechatLogin({code:n}).then((function(t){uni.setStorageSync("token",t.data.result.token);var n="https://"+document.domain+"/#/";window.location.href=n})).catch((function(t){uni.showToast({title:t.data.msg,icon:"none",duration:2e3})}))},check_icon:function(){1==this.check_on?this.check_on=!1:this.check_on=!0},Topages:function(t){uni.navigateTo({url:t})},wxAppLogon:function(){var n=this;n.Payloading=!0,setTimeout((function(){n.Payloading=!1,uni.login({provider:"weixin",onlyAuthorize:!0,success:function(e){t("log","调起微信APP信息",e," at pages/logon/logon.vue:209"),n.$api.wxappLogon({code:e.code}).then((function(n){t("log","微信APP登录",n," at pages/logon/logon.vue:215"),uni.setStorageSync("token",n.data.result.token),uni.switchTab({url:"/pages/me/me"})})).catch((function(t){uni.showToast({title:t.data.msg,icon:"none",duration:2e3})}))},fail:function(n){t("log",n," at pages/logon/logon.vue:230")}})}),2e3)},wxminiAppLogon:function(){var n=this;n.Payloading=!0,wx.getUserProfile({desc:"用于完善会员资料",success:function(e){t("log","用户信息",e," at pages/logon/logon.vue:242");var o=e.userInfo.nickName,a=e.userInfo.avatarUrl;uni.login({provider:"weixin",success:function(e){t("log","获取小程序code",e.code," at pages/logon/logon.vue:248"),n.$api.wxminiappLogon({code:e.code,avatar:a,nickname:o}).then((function(e){n.Payloading=!1,t("log","微信小程序登录",e," at pages/logon/logon.vue:256"),uni.setStorageSync("token",e.data.result.token),uni.switchTab({url:"/pages/me/me"})})).catch((function(t){n.Payloading=!1,uni.showToast({title:t.data.msg,icon:"none",duration:2e3})}))}})},fail:function(e){n.Payloading=!1,t("log",e," at pages/logon/logon.vue:276")}})}}};n.default=a}).call(this,e("0de9")["log"])},e443:function(t,n,e){"use strict";e.r(n);var o=e("e2f0"),a=e.n(o);for(var i in o)["default"].indexOf(i)<0&&function(t){e.d(n,t,(function(){return o[t]}))}(i);n["default"]=a.a},ec7f:function(t,n,e){"use strict";e.r(n);var o=e("ff0d"),a=e("e443");for(var i in a)["default"].indexOf(i)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(i);e("a803");var c=e("f0c5"),r=Object(c["a"])(a["default"],o["b"],o["c"],!1,null,"ae7654b0",null,!1,o["a"],void 0);n["default"]=r.exports},ff0d:function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){return o}));var o={uButton:e("eeee").default,uIcon:e("21cf").default,uDivider:e("6f79").default},a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",[e("v-uni-view",{staticClass:"hb_page_wrap"},[e("v-uni-image",{staticClass:"portrait",attrs:{src:"/static/logo.png"}}),e("v-uni-view",{staticClass:"lijipay"},[e("u-button",{attrs:{type:"info",shape:"circle",ripple:!1,loading:t.Payloading},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.getWeChatCode()}}},[e("u-icon",{attrs:{name:"weixin-fill",color:"#fff",size:"42"}}),t._v("微信登录")],1)],1),e("v-uni-view",{staticClass:"new_user",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.Topages("/pages/logon/wxregister")}}},[t._v("新用户注册")]),e("v-uni-view",{staticClass:"other_box"},[e("u-divider",{attrs:{color:"#999999","half-width":"200","border-color":"#D9D9D9"}},[t._v("其他登录方式")]),e("v-uni-view",{staticClass:"logon_type"},[e("v-uni-view",{staticClass:"logon_type_item",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.Topages("/pages/logon/cipherLogon")}}},[e("v-uni-image",{attrs:{src:"/static/images/login_phone.png"}}),e("v-uni-view",[t._v("手机号")])],1)],1),e("v-uni-view",{staticClass:"protocol"},[e("v-uni-view",{staticClass:"dianji"},[0==t.check_on?e("v-uni-image",{staticClass:"check_icon",attrs:{src:"/static/images/icon_check_gray.png"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.check_icon()}}}):e("v-uni-image",{staticClass:"check_icon",attrs:{src:"/static/images/icon_check_on.png"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.check_icon()}}})],1),e("v-uni-view",[t._v("登录代表您已同意《"),e("span",{on:{click:function(n){n.stopPropagation(),arguments[0]=n=t.$handleEvent(n),t.yhxy.apply(void 0,arguments)}}},[t._v("用户协议")]),t._v("》和《"),e("span",{on:{click:function(n){n.stopPropagation(),arguments[0]=n=t.$handleEvent(n),t.ysxy.apply(void 0,arguments)}}},[t._v("隐私政策")]),t._v("》")])],1)],1)],1)],1)},i=[]}}]);