(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-me-BasicSettings-tixianpassword-tixianpassword"],{"0c79":function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("d3b7"),i("159b"),i("14d9");var n=i("756d"),o=i("d9ec"),a={name:"xt-verify-code",props:n.propsMap,model:{prop:"value",event:"input"},data:function(){return{cursorVisible:!1,cursorHeight:35,code:"",codeCursorLeft:[],itemSize:6,getElement:(0,o.getElementRect)(this),isPatch:!1}},created:function(){this.cursorVisible=this.isFocus,this.validatorSize()},mounted:function(){this.init()},methods:{validatorSize:function(){if(!(this.size>0))throw"methods of 'size' is integer";this.itemSize=Math.floor(this.size)},init:function(){this.getCodeCursorLeft(),this.setCursorHeight()},setCursorHeight:function(){var t=this;this.getElement(".xt__box","single",(function(e){t.cursorHeight=.6*e.height}))},getCodeCursorLeft:function(){var t=this;this.getElement("#xt__input-ground","single",(function(e){var i=e.left;t.getElement(".xt__box","array",(function(e){t.codeCursorLeft=[],e.forEach((function(e){t.codeCursorLeft.push(e.left-i+e.width/2)}))}))}))},onInput:function(t){var e=t.detail,i=e.value;e.keyCode;this.cursorVisible=i.length<this.itemSize,this.code=i,this.$emit("input",i),this.inputSuccess(i)},inputSuccess:function(t){t.length!==this.itemSize||this.isPatch?this.isPatch=!1:this.$emit("confirm",t)},inputFocus:function(){this.cursorVisible=this.code.length<this.itemSize},inputBlur:function(){this.cursorVisible=!1}},watch:{value:function(t){t!==this.code&&(this.code=t)}},filters:{codeFormat:function(t,e){return t?e?"•":t:""}}};e.default=a},1049:function(t,e,i){"use strict";i.r(e);var n=i("54e9"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},"376f":function(t,e,i){"use strict";i.r(e);var n=i("0c79"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},"48a6":function(t,e,i){"use strict";var n=i("831a"),o=i.n(n);o.a},"49d9":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".u-code-wrap[data-v-3f7be65c]{width:0;height:0;position:fixed;z-index:-1}",""]),t.exports=e},"4a88":function(t,e,i){"use strict";i.r(e);var n=i("9988"),o=i("db54");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("48a6");var r=i("f0c5"),s=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"3f7be65c",null,!1,n["a"],void 0);e["default"]=s.exports},"54e9":function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{myphone:"",verifyCode:"",tips:"",seconds:60,Passwordone:"",Passwordtwo:""}},onLoad:function(t){this.Passwordone=t.Passwordone,this.Passwordtwo=t.Passwordtwo;var e=uni.getStorageSync("userinfo").username,i=e.substring(0,3)+"****"+e.substring(7);this.myphone=i},onReady:function(){},methods:{confirm:function(t){var e=this;console.log(t),uni.showLoading({title:"正在设置中..."}),setTimeout((function(){e.$api.preserveTixianCode({code:e.verifyCode,cash_password:e.Passwordone,re_cash_password:e.Passwordtwo}).then((function(t){uni.hideLoading(),uni.showToast({title:t.data.msg,icon:"none",duration:2e3}),setTimeout((function(){uni.navigateBack({delta:3})}),2e3)})).catch((function(t){uni.hideLoading(),uni.showToast({title:t.data.msg,icon:"none",duration:2e3})}))}),2e3)},codeChange:function(t){this.tips=t},getCode:function(){var t=this;t.$refs.uCode.canGetCode?setTimeout((function(){t.$api.GetTixianCode({}).then((function(e){uni.hideLoading(),t.$u.toast("验证码已发送"),t.$refs.uCode.start()})).catch((function(t){uni.hideLoading(),uni.showToast({title:t.data.msg,icon:"none",duration:2e3})}))}),2e3):t.$u.toast("倒计时结束后再发送")},end:function(){},start:function(){}}};e.default=n},5962:function(t,e,i){var n=i("9a52");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("321a7c49",n,!0,{sourceMap:!1,shadowMode:!1})},"5aa0":function(t,e,i){"use strict";var n=i("5962"),o=i.n(n);o.a},"6f08":function(t,e,i){"use strict";i.r(e);var n=i("9268"),o=i("1049");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("eca0");var r=i("f0c5"),s=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"60de4aee",null,!1,n["a"],void 0);e["default"]=s.exports},"756d":function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.propsMap=void 0,i("a9e3");var n={value:{type:String,default:function(){return""}},type:{type:String,default:function(){return"box"}},inputType:{type:String,default:function(){return"number"}},size:{type:Number,default:function(){return 6}},isFocus:{type:Boolean,default:function(){return!0}},isPassword:{type:Boolean,default:function(){return!1}},cursorColor:{type:String,default:function(){return"#cccccc"}},boxNormalColor:{type:String,default:function(){return"#cccccc"}},boxActiveColor:{type:String,default:function(){return"#000000"}}};e.propsMap=n},"831a":function(t,e,i){var n=i("49d9");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("7046eaee",n,!0,{sourceMap:!1,shadowMode:!1})},9268:function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={xtVerifyCode:i("c2f4").default,uVerificationCode:i("4a88").default},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"setmima"},[n("v-uni-image",{attrs:{src:i("e592"),mode:"widthFix"}}),n("v-uni-view",{staticClass:"title_1"},[t._v("输入短信验证码")]),n("v-uni-view",{staticClass:"title_2"},[t._v("我们已发送短信验证码到您的手机号")]),n("v-uni-view",{staticClass:"title_3"},[t._v(t._s(t.myphone))])],1),n("v-uni-view",{staticClass:"verifyCode"},[n("xt-verify-code",{attrs:{cursorColor:"#F09536",boxActiveColor:"#F09536",boxNormalColor:"#D9D9D9"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}},model:{value:t.verifyCode,callback:function(e){t.verifyCode=e},expression:"verifyCode"}})],1),n("v-uni-view",{staticClass:"houfansong"},[n("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getCode.apply(void 0,arguments)}}},[t._v(t._s(t.tips))])],1),n("u-verification-code",{ref:"uCode",attrs:{seconds:t.seconds},on:{end:function(e){arguments[0]=e=t.$handleEvent(e),t.end.apply(void 0,arguments)},start:function(e){arguments[0]=e=t.$handleEvent(e),t.start.apply(void 0,arguments)},change:function(e){arguments[0]=e=t.$handleEvent(e),t.codeChange.apply(void 0,arguments)}}})],1)},a=[]},9988:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){}));var n=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",{staticClass:"u-code-wrap"})},o=[]},"9a52":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".xt__verify-code[data-v-452b2fce]{position:relative;width:100%;box-sizing:border-box}.xt__verify-code .xt__input[data-v-452b2fce]{height:100%;width:200%;position:absolute;left:-100%;z-index:1;color:transparent;caret-color:transparent;background-color:transparent}.xt__verify-code .xt__cursor[data-v-452b2fce]{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);display:inline-block;width:2px;-webkit-animation-name:xt__cursor-data-v-452b2fce;animation-name:xt__cursor-data-v-452b2fce;-webkit-animation-duration:.8s;animation-duration:.8s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.xt__verify-code .xt__input-ground[data-v-452b2fce]{display:flex;justify-content:space-between;align-items:center;width:100%;box-sizing:border-box}.xt__verify-code .xt__input-ground .xt__box[data-v-452b2fce]{position:relative;display:inline-block;width:%?80?%;height:%?112?%}.xt__verify-code .xt__input-ground .xt__box-bottom[data-v-452b2fce]{border-bottom-width:2px;border-bottom-style:solid}.xt__verify-code .xt__input-ground .xt__box-box[data-v-452b2fce]{border-width:2px;border-style:solid;border-radius:4px}.xt__verify-code .xt__input-ground .xt__box-middle[data-v-452b2fce]{border:none}.xt__input-ground .xt__box .xt__middle-line[data-v-452b2fce]{position:absolute;top:50%;left:50%;width:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);border-bottom-width:2px;border-bottom-style:solid;border-radius:4px}.xt__input-ground .xt__box .xt__code-text[data-v-452b2fce]{position:absolute;top:50%;left:50%;font-size:18px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}@-webkit-keyframes xt__cursor-data-v-452b2fce{0%{opacity:1}100%{opacity:0}}@keyframes xt__cursor-data-v-452b2fce{0%{opacity:1}100%{opacity:0}}",""]),t.exports=e},afc2:function(t,e,i){var n=i("df40");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("38f828ec",n,!0,{sourceMap:!1,shadowMode:!1})},c2f4:function(t,e,i){"use strict";i.r(e);var n=i("da00"),o=i("376f");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("5aa0");var r=i("f0c5"),s=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"452b2fce",null,!1,n["a"],void 0);e["default"]=s.exports},c76d:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3"),i("ac1f"),i("5319");var n={name:"u-verification-code",props:{seconds:{type:[String,Number],default:60},startText:{type:String,default:"获取验证码"},changeText:{type:String,default:"X秒重新获取"},endText:{type:String,default:"重新获取"},keepRunning:{type:Boolean,default:!1},uniqueKey:{type:String,default:""}},data:function(){return{secNum:this.seconds,timer:null,canGetCode:!0}},mounted:function(){this.checkKeepRunning()},watch:{seconds:{immediate:!0,handler:function(t){this.secNum=t}}},methods:{checkKeepRunning:function(){var t=Number(uni.getStorageSync(this.uniqueKey+"_$uCountDownTimestamp"));if(!t)return this.changeEvent(this.startText);var e=Math.floor(+new Date/1e3);this.keepRunning&&t&&t>e?(this.secNum=t-e,uni.removeStorageSync(this.uniqueKey+"_$uCountDownTimestamp"),this.start()):this.changeEvent(this.startText)},start:function(){var t=this;this.timer&&(clearInterval(this.timer),this.timer=null),this.$emit("start"),this.canGetCode=!1,this.changeEvent(this.changeText.replace(/x|X/,this.secNum)),this.setTimeToStorage(),this.timer=setInterval((function(){--t.secNum?t.changeEvent(t.changeText.replace(/x|X/,t.secNum)):(clearInterval(t.timer),t.timer=null,t.changeEvent(t.endText),t.secNum=t.seconds,t.$emit("end"),t.canGetCode=!0)}),1e3)},reset:function(){this.canGetCode=!0,clearInterval(this.timer),this.secNum=this.seconds,this.changeEvent(this.endText)},changeEvent:function(t){this.$emit("change",t)},setTimeToStorage:function(){if(this.keepRunning&&this.timer&&this.secNum>0&&this.secNum<=this.seconds){var t=Math.floor(+new Date/1e3);uni.setStorage({key:this.uniqueKey+"_$uCountDownTimestamp",data:t+Number(this.secNum)})}}},beforeDestroy:function(){this.setTimeToStorage(),clearTimeout(this.timer),this.timer=null}};e.default=n},d9ec:function(t,e,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.getElementRect=void 0;var o=n(i("b85c"));i("14d9");e.getElementRect=function(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"single",i=arguments.length>2?arguments[2]:void 0,n=[],a=[];"array"===e?n=document.querySelectorAll(t):n.push(document.querySelector(t));var r,s=(0,o.default)(n);try{for(s.s();!(r=s.n()).done;){var u=r.value;a.push(u.getBoundingClientRect())}}catch(c){s.e(c)}finally{s.f()}console.log("result",a),i("array"===e?a:a[0])}}},da00:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"xt__verify-code"},[i("v-uni-input",{staticClass:"xt__input",attrs:{id:"xt__input",value:t.code,focus:t.isFocus,type:t.inputType,maxlength:t.itemSize},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.onInput.apply(void 0,arguments)},focus:function(e){arguments[0]=e=t.$handleEvent(e),t.inputFocus.apply(void 0,arguments)},blur:function(e){arguments[0]=e=t.$handleEvent(e),t.inputBlur.apply(void 0,arguments)}}}),t.cursorVisible&&"middle"!==t.type?i("v-uni-view",{staticClass:"xt__cursor",style:{left:t.codeCursorLeft[t.code.length]+"px",height:t.cursorHeight+"px",backgroundColor:t.cursorColor},attrs:{id:"xt__cursor"}}):t._e(),i("v-uni-view",{staticClass:"xt__input-ground",attrs:{id:"xt__input-ground"}},t._l(t.itemSize,(function(e,n){return i("v-uni-view",{key:n,class:["xt__box","xt__box-"+t.type,"xt__box::after"],style:{borderColor:t.code.length===n&&t.cursorVisible?t.boxActiveColor:t.boxNormalColor}},["middle"!==t.type||t.code[n]?t._e():i("v-uni-view",{staticClass:"xt__middle-line",style:{borderColor:t.boxActiveColor}}),i("v-uni-text",{staticClass:"xt__code-text"},[t._v(t._s(t._f("codeFormat")(t.code[n],t.isPassword)))])],1)})),1)],1)},o=[]},db54:function(t,e,i){"use strict";i.r(e);var n=i("c76d"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},df40:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".verifyCode[data-v-60de4aee]{width:80%;margin:%?46?% auto %?40?%}.houfansong[data-v-60de4aee]{text-align:center;color:#f09536}.setmima[data-v-60de4aee]{margin-top:%?136?%;text-align:center}.setmima uni-image[data-v-60de4aee]{width:%?168?%}.setmima .title_1[data-v-60de4aee]{font-size:%?36?%;margin-top:%?40?%}.setmima .title_2[data-v-60de4aee]{font-size:%?26?%;margin-top:%?32?%;color:#999}.setmima .title_3[data-v-60de4aee]{font-size:%?36?%;margin-top:%?36?%}",""]),t.exports=e},e592:function(t,e,i){t.exports=i.p+"static/img/Frame2006.7f869a85.png"},eca0:function(t,e,i){"use strict";var n=i("afc2"),o=i.n(n);o.a}}]);