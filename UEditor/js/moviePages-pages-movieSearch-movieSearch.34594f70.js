(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["moviePages-pages-movieSearch-movieSearch"],{"0c71":function(t,e,a){"use strict";var i=a("d431"),n=a.n(i);n.a},2887:function(t,e,a){var i=a("a991");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("19ca80db",i,!0,{sourceMap:!1,shadowMode:!1})},3609:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3");var i={name:"u-search",props:{shape:{type:String,default:"round"},bgColor:{type:String,default:"#f2f2f2"},placeholder:{type:String,default:"请输入关键字"},clearabled:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},showAction:{type:Boolean,default:!0},actionStyle:{type:Object,default:function(){return{}}},actionText:{type:String,default:"搜索"},inputAlign:{type:String,default:"left"},disabled:{type:Boolean,default:!1},animation:{type:Boolean,default:!1},borderColor:{type:String,default:"none"},value:{type:String,default:""},height:{type:[Number,String],default:64},inputStyle:{type:Object,default:function(){return{}}},maxlength:{type:[Number,String],default:"-1"},searchIconColor:{type:String,default:""},color:{type:String,default:"#606266"},placeholderColor:{type:String,default:"#909399"},margin:{type:String,default:"0"},searchIcon:{type:String,default:"search"}},data:function(){return{keyword:"",showClear:!1,show:!1,focused:this.focus}},watch:{keyword:function(t){this.$emit("input",t),this.$emit("change",t)},value:{immediate:!0,handler:function(t){this.keyword=t}}},computed:{showActionBtn:function(){return!(this.animation||!this.showAction)},borderStyle:function(){return this.borderColor?"1px solid ".concat(this.borderColor):"none"}},methods:{inputChange:function(t){this.keyword=t.detail.value},clear:function(){var t=this;this.keyword="",this.$nextTick((function(){t.$emit("clear")}))},search:function(t){this.$emit("search",t.detail.value);try{uni.hideKeyboard()}catch(t){}},custom:function(){this.$emit("custom",this.keyword);try{uni.hideKeyboard()}catch(t){}},getFocus:function(){this.focused=!0,this.animation&&this.showAction&&(this.show=!0),this.$emit("focus",this.keyword)},blur:function(){var t=this;setTimeout((function(){t.focused=!1}),100),this.show=!1,this.$emit("blur",this.keyword)},clickHandler:function(){this.disabled&&this.$emit("click")}}};e.default=i},"3fd2":function(t,e,a){"use strict";(function(t){a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("d3b7"),a("159b"),a("99af"),a("ac1f");var n=i(a("ffba")),o={data:function(){return{actionStyle:{backgroundColor:"#56A2FF",color:"#fff",borderRadius:"200rpx",padding:"10rpx 20rpx",width:"100rpx"},background:{backgroundImage:"linear-gradient(90deg, #ffffff, #ffffff)"},height:0,boxHeight:0,keyword:"",searchData:{cinema:{count:0,rows:[]},coming:{count:0,rows:[]},movie:{count:0,rows:[]}},isShow:!1}},components:{cinemaItem:n.default},onShow:function(){var t=this;this.$nextTick((function(){t.height=t.$common.setWidthHeight((function(){t.getDom()}))}))},methods:{toBack:function(t){this.$common.toBack(t)},getSearch:function(){var t=this;if(""==this.keyword)return uni.showToast({icon:"none",title:"搜索词不能为空"}),!1;uni.showLoading({title:"搜索中"}),this.$api.getSearch({s:this.keyword,cid:this.$store.state.chooseLoc.id||this.$store.state.locCity.id,lat:this.$store.state.locCity.lat,lng:this.$store.state.locCity.lng}).then((function(e){t.searchData=e.data.result,t.searchData.cinema.rows.forEach((function(e,a){"string"==typeof t.searchData.cinema.rows[a].hall_type&&(e.hall_type=e.hall_type.length>0?e.hall_type.split(","):[])})),0==t.searchData.cinema.rows.length&&0==t.searchData.coming.rows.length&&0==t.searchData.movie.rows.length?t.isShow=!0:t.isShow=!1,uni.hideLoading()}))},movie_tiao:function(e){t("log",e," at moviePages/pages/movieSearch/movieSearch.vue:128"),uni.navigateTo({url:"/moviePages/pages/buymovie/buymovie?cid=".concat(e.cid,"&cinemaId=").concat(e.cinemaid,"&mid=").concat(-1,"&dates=").concat(this.$options.filters["formateDate"](new Date,"YYYY-MM-DD"))})},getDom:function(){var t=this,e=uni.createSelectorQuery().in(this);e.selectAll(".search-top").boundingClientRect((function(e){t.boxHeight=e[0]?e[0].height:0})).exec()},upDataList:function(t,e){0==t?(this.searchData.coming.rows[e[1]].isLike=1,this.searchData.coming.rows[e[1]].wish++):(this.searchData.coming.rows[e[1]].isLike=0,this.searchData.coming.rows[e[1]].wish--)}}};e.default=o}).call(this,a("0de9")["log"])},5827:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";.cineme-item-style[data-v-6b2946ae]{background-color:#fff;border-radius:%?20?%;margin-bottom:%?20?%}.cineme-item-style .cinema-info-item[data-v-6b2946ae]{padding:%?30?% %?20?%}.cineme-item-style .cinema-info-item .cinema-top-box[data-v-6b2946ae]{display:flex;justify-content:space-between;align-items:center}.cineme-item-style .cinema-info-item .cinema-top-box .cinema-name-text[data-v-6b2946ae]{font-size:%?30?%;color:#333;font-weight:700}.cineme-item-style .cinema-info-item .cinema-top-box .cinema-money-box[data-v-6b2946ae]{font-size:%?24?%;color:#999;display:flex;align-items:center}.cineme-item-style .cinema-info-item .cinema-top-box .cinema-money-box uni-text[data-v-6b2946ae]{font-size:%?30?%;color:#f66c3f;margin-right:%?10?%}.cineme-item-style .cinema-info-item .cinema-top-box .cinema-money-box uni-text[data-v-6b2946ae]::before{content:"￥";font-size:80%;margin-right:%?4?%}.cineme-item-style .cinema-info-item .cinema-address-box[data-v-6b2946ae]{display:flex;justify-content:space-between;align-items:center;margin-top:%?20?%}.cineme-item-style .cinema-info-item .cinema-address-box uni-text[data-v-6b2946ae]{font-size:%?24?%;color:#999}.cineme-item-style .cinema-info-item .tag-list-box[data-v-6b2946ae]{margin-top:%?20?%}',""]),t.exports=e},"610a":function(t,e,a){"use strict";a.r(e);var i=a("3fd2"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"618f":function(t,e,a){"use strict";a.r(e);var i=a("c831"),n=a("610a");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("7fdb");var c=a("f0c5"),s=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"f1364740",null,!1,i["a"],void 0);e["default"]=s.exports},"68b0":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var i={uIcon:a("21cf").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"u-search",style:{margin:t.margin},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickHandler.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"u-content",style:{backgroundColor:t.bgColor,borderRadius:"round"==t.shape?"100rpx":"10rpx",border:t.borderStyle,height:t.height+"rpx"}},[a("v-uni-view",{staticClass:"u-icon-wrap"},[a("u-icon",{staticClass:"u-clear-icon",attrs:{size:36,name:t.searchIcon,color:t.searchIconColor?t.searchIconColor:t.color}})],1),a("v-uni-input",{staticClass:"u-input",style:[{textAlign:t.inputAlign,color:t.color,backgroundColor:t.bgColor},t.inputStyle],attrs:{"confirm-type":"search",value:t.value,disabled:t.disabled,focus:t.focus,maxlength:t.maxlength,"placeholder-class":"u-placeholder-class",placeholder:t.placeholder,"placeholder-style":"color: "+t.placeholderColor,type:"text"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.blur.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.search.apply(void 0,arguments)},input:function(e){arguments[0]=e=t.$handleEvent(e),t.inputChange.apply(void 0,arguments)},focus:function(e){arguments[0]=e=t.$handleEvent(e),t.getFocus.apply(void 0,arguments)}}}),t.keyword&&t.clearabled&&t.focused?a("v-uni-view",{staticClass:"u-close-wrap",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clear.apply(void 0,arguments)}}},[a("u-icon",{staticClass:"u-clear-icon",attrs:{name:"close-circle-fill",size:"34",color:"#c0c4cc"}})],1):t._e()],1),a("v-uni-view",{staticClass:"u-action",class:[t.showActionBtn||t.show?"u-action-active":""],style:[t.actionStyle],on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.custom.apply(void 0,arguments)}}},[t._v(t._s(t.actionText))])],1)},o=[]},"76c0":function(t,e,a){"use strict";a.r(e);var i=a("ea44"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"7fdb":function(t,e,a){"use strict";var i=a("f40b"),n=a.n(i);n.a},a2d9:function(t,e,a){"use strict";var i=a("2887"),n=a.n(i);n.a},a991:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".u-search[data-v-901b6f94]{display:flex;flex-direction:row;align-items:center;flex:1}.u-content[data-v-901b6f94]{display:flex;flex-direction:row;align-items:center;padding:0 %?18?%;flex:1}.u-clear-icon[data-v-901b6f94]{display:flex;flex-direction:row;align-items:center}.u-input[data-v-901b6f94]{flex:1;font-size:%?28?%;line-height:1;margin:0 %?6?%;color:#909399}.u-close-wrap[data-v-901b6f94]{width:%?40?%;height:100%;display:flex;flex-direction:row;align-items:center;justify-content:center;border-radius:50%}.u-placeholder-class[data-v-901b6f94]{color:#909399}.u-action[data-v-901b6f94]{font-size:%?28?%;color:#303133;width:0;overflow:hidden;transition:all .3s;white-space:nowrap;text-align:center}.u-action-active[data-v-901b6f94]{width:%?80?%;margin-left:%?10?%}",""]),t.exports=e},c164f:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"cineme-item-style"},[a("v-uni-view",{staticClass:"cinema-info-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleClick.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"cinema-top-box"},[a("v-uni-view",{staticClass:"cinema-name-text overflow"},[t._v(t._s(t.item.nm))]),a("v-uni-view",{staticClass:"cinema-money-box overflow"},[a("v-uni-text",[t._v(t._s(t.item.price))]),t._v("起")],1)],1),a("v-uni-view",{staticClass:"cinema-address-box"},[a("v-uni-text",{staticClass:"overflow"},[t._v(t._s(t.item.addr))]),a("v-uni-text",[t._v(t._s(t.item.distance)+"km")])],1),t.item.hall_type.length>0||1==t.item.tp?a("v-uni-view",{staticClass:"tag-list-box"},[t.isSearch?a("v-uni-view",{staticClass:"public-tag small-con blue-plain-tag"},[t._v("小吃")]):t._e(),t.isSearch?a("v-uni-view",{staticClass:"public-tag small-con red-plain-tag"},[t._v("取票机")]):t._e(),1==t.item.tp?a("v-uni-view",{staticClass:"public-tag small-con red-solid-tag"},[t._v("特惠")]):t._e(),1==t.item.tp?a("v-uni-view",{staticClass:"public-tag small-con blue-plain-tag"},[t._v("取票机")]):t._e(),t._l(t.item.hall_type,(function(e,i){return a("v-uni-view",{key:i,staticClass:"public-tag small-con gray-plain-tag"},[t._v(t._s(e))])}))],2):t._e()],1)],1)},n=[]},c3c4:function(t,e,a){"use strict";a.r(e);var i=a("3609"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},c831:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var i={uNavbar:a("790b").default,uSearch:a("e618").default,moviceItem:a("de6f").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"search"},[a("u-navbar",{attrs:{"is-back":!0,"title-color":"#333333",title:"搜索电影票",background:t.background,"border-bottom":!0}}),a("v-uni-view",{staticClass:"search-top"},[a("v-uni-view",{staticClass:"search-top-main"},[a("u-search",{staticClass:"search-btn",attrs:{placeholder:"搜索电影,影院","action-style":t.actionStyle},on:{search:function(e){arguments[0]=e=t.$handleEvent(e),t.getSearch.apply(void 0,arguments)},custom:function(e){arguments[0]=e=t.$handleEvent(e),t.getSearch.apply(void 0,arguments)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1)],1),a("v-uni-view",{staticClass:"search-data-list"},[t.searchData.movie.rows.length>0?a("v-uni-view",{staticClass:"search-data-card"},[a("v-uni-view",{staticClass:"card-title"},[t._v("正在热映")]),a("movice-item",{attrs:{list:t.searchData.movie.rows,"is-search":!0}})],1):t._e(),t.searchData.coming.rows.length>0?a("v-uni-view",{staticClass:"search-data-card"},[a("v-uni-view",{staticClass:"card-title"},[t._v("即将上映")]),a("movice-item",{attrs:{list:t.searchData.coming.rows,isComing:!0,"is-search":!0},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.upDataList.apply(void 0,arguments)}}})],1):t._e(),t.searchData.cinema.rows.length>0?a("v-uni-view",{staticClass:"search-data-card"},[a("v-uni-view",{staticClass:"card-title"},[t._v("影院")]),a("v-uni-view",{staticClass:"cinema-item"},t._l(t.searchData.cinema.rows,(function(e,i){return a("cinema-item",{key:i,attrs:{item:e,"is-search":!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.movie_tiao.apply(void 0,arguments)}}})})),1)],1):t._e(),0==t.searchData.cinema.rows.length&&0==t.searchData.coming.rows.length&&0==t.searchData.movie.rows.length&&0==t.isShow?a("v-uni-view",{staticClass:"prompt"},[a("v-uni-view",[a("v-uni-image",{attrs:{src:"https://img.alicdn.com/imgextra/i2/3829152210/O1CN01lHi68c1SCE3JVy9Qs_!!3829152210.png",mode:"widthFix"}})],1),a("v-uni-view",[t._v("暂无数据,请您查询")])],1):t._e(),t.isShow?a("v-uni-view",{staticClass:"prompt"},[t._v("不好意思，您想查的没有,请查点别的吧")]):t._e()],1)],1)},o=[]},d431:function(t,e,a){var i=a("5827");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("fc3b7ffa",i,!0,{sourceMap:!1,shadowMode:!1})},d7c8:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".search[data-v-f1364740]{position:relative;z-index:1;height:100vh;background-color:#f9f9f9}.search .prompt[data-v-f1364740]{margin-top:%?250?%;text-align:center;font-size:%?28?%;color:#606266}.search .prompt uni-image[data-v-f1364740]{width:%?400?%}.search .search-top[data-v-f1364740]{background-color:#fff;width:100%;top:0;left:0;z-index:5}.search .search-top .search-top-main[data-v-f1364740]{background-color:#fff;padding:%?20?% %?20?%}.search .search-top .search-top-main .search-btn[data-v-f1364740]{box-sizing:border-box}.search .search-top .search-top-main .search-btn[data-v-f1364740] .u-search .u-action{background-image:linear-gradient(45deg,#56a2ff,#4ccaff);width:%?100?%;height:%?60?%;color:#fff;display:flex;align-items:center;justify-content:center;margin-left:%?40?%;border-radius:%?30?%;font-size:%?24?%;box-shadow:2px 2px 4px 1px rgba(0,0,0,.2)}.search .search-data-list .search-data-card[data-v-f1364740]{margin-bottom:%?40?%;background-color:#fff}.search .search-data-list .search-data-card[data-v-f1364740]:last-of-type{margin-bottom:0}.search .search-data-list .search-data-card .card-title[data-v-f1364740]{font-weight:700;font-size:%?32?%;padding:%?20?%;color:#333;border-bottom:%?2?% solid #f3f3f3}.search .search-data-list .search-data-card .cinema-item[data-v-f1364740]{border-bottom:%?2?% solid #f3f3f3}",""]),t.exports=e},e618:function(t,e,a){"use strict";a.r(e);var i=a("68b0"),n=a("c3c4");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("a2d9");var c=a("f0c5"),s=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"901b6f94",null,!1,i["a"],void 0);e["default"]=s.exports},ea44:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{}},props:{item:{type:Object,default:{}},isSearch:{type:Boolean,default:!1}},methods:{handleClick:function(){this.$emit("click",this.item)}}};e.default=i},f40b:function(t,e,a){var i=a("d7c8");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("0fe243ea",i,!0,{sourceMap:!1,shadowMode:!1})},ffba:function(t,e,a){"use strict";a.r(e);var i=a("c164f"),n=a("76c0");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("0c71");var c=a("f0c5"),s=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"6b2946ae",null,!1,i["a"],void 0);e["default"]=s.exports}}]);