(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-logon-logon"],{"2a92":function(t,n,o){var e=o("e761");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var a=o("4f06").default;a("19ced503",e,!0,{sourceMap:!1,shadowMode:!1})},5001:function(t,n,o){"use strict";var e=o("2a92"),a=o.n(e);a.a},c5d7:function(t,n,o){"use strict";o.d(n,"b",(function(){return a})),o.d(n,"c",(function(){return i})),o.d(n,"a",(function(){return e}));var e={uButton:o("eeee").default,uIcon:o("21cf").default,uDivider:o("6f79").default},a=function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("v-uni-view",[o("v-uni-view",{staticClass:"hb_page_wrap"},[o("v-uni-image",{staticClass:"portrait",attrs:{src:"/static/logo.png"}}),o("v-uni-view",{staticClass:"lijipay"},[o("u-button",{attrs:{type:"info",shape:"circle",ripple:!1,loading:t.Payloading},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.getWeChatCode()}}},[o("u-icon",{attrs:{name:"weixin-fill",color:"#fff",size:"42"}}),t._v("微信登录")],1)],1),o("v-uni-view",{staticClass:"new_user",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.Topages("/pages/logon/wxregister")}}},[t._v("新用户注册")]),o("v-uni-view",{staticClass:"other_box"},[o("u-divider",{attrs:{color:"#999999","half-width":"200","border-color":"#D9D9D9"}},[t._v("其他登录方式")]),o("v-uni-view",{staticClass:"logon_type"},[o("v-uni-view",{staticClass:"logon_type_item",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.Topages("/pages/logon/cipherLogon")}}},[o("v-uni-image",{attrs:{src:"/static/images/login_phone.png"}}),o("v-uni-view",[t._v("手机号")])],1)],1),o("v-uni-view",{staticClass:"protocol"},[o("v-uni-view",{staticClass:"dianji"},[0==t.check_on?o("v-uni-image",{staticClass:"check_icon",attrs:{src:"/static/images/icon_check_gray.png"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.check_icon()}}}):o("v-uni-image",{staticClass:"check_icon",attrs:{src:"/static/images/icon_check_on.png"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.check_icon()}}})],1),o("v-uni-view",[t._v("登录代表您已同意《"),o("span",{on:{click:function(n){n.stopPropagation(),arguments[0]=n=t.$handleEvent(n),t.yhxy.apply(void 0,arguments)}}},[t._v("用户协议")]),t._v("》和《"),o("span",{on:{click:function(n){n.stopPropagation(),arguments[0]=n=t.$handleEvent(n),t.ysxy.apply(void 0,arguments)}}},[t._v("隐私政策")]),t._v("》")])],1)],1)],1)],1)},i=[]},e2f0:function(t,n,o){"use strict";(function(t){o("7a82"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,o("e9c4"),o("ac1f"),o("5319"),o("4d63"),o("c607"),o("2c3e"),o("25f0");var e=getApp(),a={data:function(){return{Payloading:!1,check_on:!1}},onLoad:function(n){if(t("log","嗷嗷",n.parent_id," at pages/logon/logon.vue:87"),"{}"!=JSON.stringify(n)){var o={parent_id:n.parent_id,reseller_id:{reseller_id:uni.getStorageSync("reseller_id")||""}};e.globalData.bindSaveParentId(o)}var a=uni.getStorageSync("wechat_login_tag")||null;a&&this.checkWeChatCode()},onShow:function(){var t=uni.getStorageSync("token");t&&uni.switchTab({url:"/pages/me/me"})},methods:{yhxy:function(){uni.navigateTo({url:"/pages/Webview/Webview?url="+encodeURIComponent(JSON.stringify("/static/fuxy.html"))})},ysxy:function(){uni.navigateTo({url:"/pages/Webview/Webview?url="+encodeURIComponent(JSON.stringify("/static/ysxy.html"))})},checkWeChatCode:function(){var t=this.getUrlCode("code");t&&this.handleToLogin(t)},getUrlCode:function(t){return decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[,""])[1].replace(/\+/g,"%20"))||null},getWeChatCode:function(){var n=this;uni.setStorageSync("wechat_login_tag","true"),n.Payloading=!0,setTimeout((function(){n.Payloading=!1;var o=uni.getStorageSync("getOfficialAccountInfo").appid,e=encodeURIComponent(window.location.href);t("log",o,e," at pages/logon/logon.vue:165"),window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+o+"&redirect_uri="+e+"&response_type=code&scope=snsapi_userinfo&state=1#wechat_redirect"}),2e3)},handleToLogin:function(n){t("log","微信code",n," at pages/logon/logon.vue:176");this.$api.WxwechatLogin({code:n}).then((function(t){uni.setStorageSync("token",t.data.result.token);var n="https://"+document.domain+"/#/";window.location.href=n})).catch((function(t){uni.showToast({title:t.data.msg,icon:"none",duration:2e3})}))},check_icon:function(){1==this.check_on?this.check_on=!1:this.check_on=!0},Topages:function(t){uni.navigateTo({url:t})},wxAppLogon:function(){var n=this;n.Payloading=!0,setTimeout((function(){n.Payloading=!1,uni.login({provider:"weixin",onlyAuthorize:!0,success:function(o){t("log","调起微信APP信息",o," at pages/logon/logon.vue:224"),n.$api.wxappLogon({code:o.code}).then((function(n){t("log","微信APP登录",n," at pages/logon/logon.vue:230"),uni.setStorageSync("token",n.data.result.token),uni.switchTab({url:"/pages/me/me"})})).catch((function(t){uni.showToast({title:t.data.msg,icon:"none",duration:2e3})}))},fail:function(n){t("log",n," at pages/logon/logon.vue:245")}})}),2e3)},wxminiAppLogon:function(){var n=this;n.Payloading=!0,wx.getUserProfile({desc:"用于完善会员资料",success:function(o){t("log","用户信息",o," at pages/logon/logon.vue:257");var e=o.userInfo.nickName,a=o.userInfo.avatarUrl;uni.login({provider:"weixin",success:function(o){t("log","获取小程序code",o.code," at pages/logon/logon.vue:263"),n.$api.wxminiappLogon({code:o.code,avatar:a,nickname:e}).then((function(o){n.Payloading=!1,t("log","微信小程序登录",o," at pages/logon/logon.vue:271"),uni.setStorageSync("token",o.data.result.token),uni.switchTab({url:"/pages/me/me"})})).catch((function(t){n.Payloading=!1,uni.showToast({title:t.data.msg,icon:"none",duration:2e3})}))}})},fail:function(o){n.Payloading=!1,t("log",o," at pages/logon/logon.vue:291")}})}}};n.default=a}).call(this,o("0de9")["log"])},e443:function(t,n,o){"use strict";o.r(n);var e=o("e2f0"),a=o.n(e);for(var i in e)["default"].indexOf(i)<0&&function(t){o.d(n,t,(function(){return e[t]}))}(i);n["default"]=a.a},e761:function(t,n,o){var e=o("24fb");n=e(!1),n.push([t.i,".hb_page_wrap[data-v-959040aa]{text-align:center;padding:%?120?% %?40?% %?40?% %?40?%}.hb_page_wrap .portrait[data-v-959040aa]{width:%?200?%;height:%?200?%}.hb_page_wrap .portrait2[data-v-959040aa]{width:%?500?%;height:%?200?%;margin-top:%?30?%}.lijipay[data-v-959040aa]{width:100%;margin-top:%?50?%;position:relative}.lijipay .u-icon[data-v-959040aa]{margin-right:%?10?%}.lijipay .u-size-default[data-v-959040aa]{height:%?80?%!important;line-height:%?80?%!important;background-image:linear-gradient(90deg,#28c445,#28c445)!important;color:#fff}.new_user[data-v-959040aa]{color:#666;margin:%?20?% 0}.other_box[data-v-959040aa]{margin-top:%?100?%}.other_box .logon_type[data-v-959040aa]{margin-top:%?50?%}.other_box .logon_type .logon_type_item[data-v-959040aa]{text-align:center}.other_box .logon_type .logon_type_item uni-image[data-v-959040aa]{width:%?120?%;height:%?120?%;border-radius:%?200?%}.other_box .logon_type .logon_type_item uni-view[data-v-959040aa]{color:#333}.protocol[data-v-959040aa]{width:100%;margin:%?60?% auto 0;color:#999;padding:0 0 10px 0;margin-bottom:10px;display:flex;align-items:flex-start;font-size:%?24?%;justify-content:center;position:fixed;bottom:2%;left:0;right:0;margin:0 auto}.protocol span[data-v-959040aa]{color:#ff8848}.check_icon[data-v-959040aa]{width:%?34?%;height:%?34?%;position:relative;top:0;margin-right:%?7?%}",""]),t.exports=n},ec7f:function(t,n,o){"use strict";o.r(n);var e=o("c5d7"),a=o("e443");for(var i in a)["default"].indexOf(i)<0&&function(t){o.d(n,t,(function(){return a[t]}))}(i);o("5001");var c=o("f0c5"),r=Object(c["a"])(a["default"],e["b"],e["c"],!1,null,"959040aa",null,!1,e["a"],void 0);n["default"]=r.exports}}]);