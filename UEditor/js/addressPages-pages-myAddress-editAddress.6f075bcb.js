(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["addressPages-pages-myAddress-editAddress"],{"004f":function(t,e,i){"use strict";i.r(e);var a=i("542a"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},"542a":function(t,e,i){"use strict";(function(t){i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("b64b");var a=getApp(),n={data:function(){return{BestImgUrl:a.globalData.imgurl,scaleSize:18,mapH:0,mapW:0,longitude:0,latitude:0,controlsLeft:1e3,controlsTop:1e3,controls:[],positionIcon:"/static/position.png",fensiqun_Show:!1,menpai:"",name:"",phone:"",sex:"先生",list:[{name:"先生",disabled:!1},{name:"女士",disabled:!1}],value:"先生",list2:[{name:"是",disabled:!1},{name:"否",disabled:!1}],value2:"是",moooo:"",addressData:{},EditData:{},is_moren:""}},onLoad:function(e){var i=this;this.EditData=JSON.parse(decodeURIComponent(e.data)),t("log","123",this.EditData," at addressPages/pages/myAddress/editAddress.vue:181"),this.longitude=this.EditData.longitude,this.latitude=this.EditData.latitude,this.menpai=this.EditData.house_number,this.name=this.EditData.name,this.phone=this.EditData.tel,this.value=this.EditData.sex,this.sex=this.EditData.sex,1==this.EditData.is_default?(this.is_moren=1,this.value2="是"):(this.is_moren=0,this.value2="否"),this.jiexijingweidu(),this.initMapH(),this.initPositionIcon(),uni.$on("GetAddressData",(function(t){i.xindingwei(t)}))},methods:{jiexijingweidu:function(){var e=this,i="https://apis.map.qq.com/ws/geocoder/v1/?location="+e.EditData.latitude+","+e.EditData.longitude+"&key=7DZBZ-Q5BWK-23ZJ7-AOV3F-4VZBZ-NCFO3&get_poi=1";uni.request({url:"https://admin.lszbg.com/api/index/get_user_place",method:"POST",data:{url:i},success:function(i){t("log","解析经纬度信息",i.data.result," at addressPages/pages/myAddress/editAddress.vue:231"),e.addressData={address:{poistitle:e.EditData.address,address:i.data.result.formatted_addresses.recommend}}},fail:function(t){}})},radioGroupChange:function(e){t("log",e," at addressPages/pages/myAddress/editAddress.vue:247"),this.sex=e},radioGroupChange22:function(e){this.is_moren="是"==e?1:0,t("log",this.is_moren," at addressPages/pages/myAddress/editAddress.vue:257")},baocun:function(){0===Object.keys(this.addressData).length?uni.showToast({title:"请选择收货地址",icon:"none",duration:2e3}):""==this.name?uni.showToast({title:"请输入联系人",icon:"none",duration:2e3}):""==this.phone?uni.showToast({title:"请输入手机号",icon:"none",duration:2e3}):this.$api.EditAddress({id:this.EditData.id,latitude:this.latitude,longitude:this.longitude,name:this.name,tel:this.phone,sex:this.sex,address:this.addressData.address.poistitle,house_number:this.menpai,is_default:this.is_moren}).then((function(t){uni.showToast({title:t.data.msg,icon:"none",duration:2e3}),setTimeout((function(){uni.navigateBack()}),2e3)})).catch((function(t){uni.showToast({title:t.data.msg,icon:"none",duration:2e3})}))},Toxuanze:function(){uni.navigateTo({url:"/addressPages/pages/Selectlocation/Selectlocation"})},xindingwei:function(e){t("log","从地图选择的位置",e," at addressPages/pages/myAddress/editAddress.vue:318"),this.addressData=e.data,this.longitude=e.data.longitude,this.latitude=e.data.latitude,uni.createMapContext("map",this).moveToLocation({latitude:e.data.latitude,longitude:e.data.longitude})},deladdres:function(){var t=this;this.$api.DelAddress({ids:this.EditData.id}).then((function(e){t.fensiqun_Show=!1,uni.showToast({title:e.data.msg,icon:"none",duration:2e3}),setTimeout((function(){uni.navigateBack()}),1e3)})).catch((function(t){uni.showToast({title:t.data.msg,icon:"none",duration:2e3})}))},appshanchu:function(){var e=this;uni.showModal({title:"提示",content:"是否要删除此地址?",success:function(i){i.confirm?(t("log","用户点击确定"," at addressPages/pages/myAddress/editAddress.vue:373"),e.$api.DelAddress({ids:e.EditData.id}).then((function(t){uni.showToast({title:t.data.msg,icon:"none",duration:2e3}),setTimeout((function(){uni.navigateBack()}),1e3)})).catch((function(t){uni.showToast({title:t.data.msg,icon:"none",duration:2e3})}))):i.cancel&&t("log","用户点击取消"," at addressPages/pages/myAddress/editAddress.vue:393")}})},AppgetLocation:function(){var t=this;uni.getLocation({type:"gcj02",success:function(e){t.longitude=e.longitude,t.latitude=e.latitude},fail:function(t){uni.showToast({icon:"none",title:"获取地址失败, 请检查是否开启定位权限~~"})}})},H5getLocation:function(){var t=this,e=uni.getStorageSync("lat"),i=uni.getStorageSync("lng");if(e&&i){var a={latitude:e,longitude:i};t.longitude=a.longitude,t.latitude=a.latitude}else uni.getLocation({type:"gcj02",highAccuracyExpireTime:3e3,isHighAccuracy:!0,success:function(e){t.longitude=e.longitude,t.latitude=e.latitude},fail:function(t){uni.showToast({icon:"none",title:"获取地址失败, 请检查是否开启定位权限~~"})}})},initPositionIcon:function(){var t=this;setTimeout((function(){t.controlsLeft=t.mapW/2-20,t.controlsTop=t.mapH/3}),100)},initMapH:function(){this.mapW=uni.getSystemInfoSync().windowWidth,this.mapH=uni.getSystemInfoSync().windowHeight-520}}};e.default=n}).call(this,i("0de9")["log"])},6422:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".address[data-v-3331be35]{margin-left:auto;padding-right:%?30?%;color:#ff3d22}.jianbianse[data-v-3331be35]{width:100%;background-image:linear-gradient(0deg,#fff,transparent);position:absolute;top:144px;height:150px}.add_res_wrap[data-v-3331be35]{position:absolute;margin:0 auto;top:180px;width:94%;left:0;right:0;border-radius:%?20?%}.add_res_wrap .yixuandizhi[data-v-3331be35]{display:flex;align-items:center;justify-content:space-between;padding:%?20?%;background-color:#fff;box-shadow:0 0 10px rgba(0,0,0,.05);border-radius:%?20?%;margin-bottom:%?30?%}.add_res_wrap .yixuandizhi .yx_name[data-v-3331be35]{flex:1}.add_res_wrap .yixuandizhi .yx_name uni-view[data-v-3331be35]:nth-child(1){font-size:%?28?%}.add_res_wrap .yixuandizhi .yx_name uni-view[data-v-3331be35]:nth-child(2){color:#999;font-size:%?24?%;word-break:break-all;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.add_res_wrap .yixuandizhi .yx_xg[data-v-3331be35]{color:#ff4910;border-radius:%?200?%;border:1px solid #ff4910;font-size:%?24?%;height:%?56?%;display:flex;align-items:center;justify-content:center;padding:0 %?20?%}.add_res_wrap .add_res_box[data-v-3331be35]{background-color:#fff;box-shadow:0 0 10px rgba(0,0,0,.05);border-radius:%?20?%;padding:%?20?%}.add_res_wrap .add_res_box .xz_dz[data-v-3331be35]{color:#ff4910;border-radius:%?6?%;border:1px solid #ff4910;text-align:center;height:%?64?%;display:flex;align-items:center;justify-content:center;margin-bottom:%?20?%}.add_res_wrap .add_res_box .inout_box[data-v-3331be35]{display:flex;align-items:center;padding:%?14?% 0;border-bottom:1px solid #f3f3f3}.add_res_wrap .add_res_box .inout_box .input_title[data-v-3331be35]{margin-right:%?10?%}.add_res_wrap .add_res_box .inout_box .input_k[data-v-3331be35]{flex:1}.add_res_wrap .add_res_box .inout_box .xingbie[data-v-3331be35]{margin-left:auto}.lijipay[data-v-3331be35]{width:100%;margin:%?48?% auto 0;display:flex;align-items:center}.lijipay .btn_b[data-v-3331be35]{flex:1;margin:0 %?20?% 0 0}.lijipay .btn_d[data-v-3331be35]{flex:1;margin:0 0 0 %?20?%}.lijipay .u-size-default[data-v-3331be35]{height:%?80?%!important;line-height:%?80?%!important}.controls-location[data-v-3331be35]{height:46px;width:46px;position:absolute}.tc_wrap[data-v-3331be35]{padding:%?30?%;text-align:center}.tc_wrap .tc_images uni-image[data-v-3331be35]{width:%?300?%;height:%?300?%}.tc_wrap .tc_info uni-view[data-v-3331be35]:nth-child(1){font-weight:700;font-size:%?32?%;margin-bottom:%?20?%}.tc_wrap .tc_info uni-view[data-v-3331be35]:nth-child(2){font-size:%?28?%;color:#999}.tc_wrap .tc_info uni-view:nth-child(2) span[data-v-3331be35]{color:#ff611e}.tc_wrap .tc_btn_box[data-v-3331be35]{display:flex;align-items:center;margin-top:%?36?%;justify-content:center;padding:0 %?30?%}.tc_wrap .tc_btn_box .tc_btn_huise[data-v-3331be35]{flex:1;margin-right:%?12?%;background:linear-gradient(90deg,#f7f7f7,50%,#f7f7f7);border-radius:%?200?%;padding:0 0;height:%?80?%!important;line-height:%?80?%!important;text-align:center;color:#333}.tc_wrap .tc_btn_box .tc_btn_huise .u-size-default[data-v-3331be35]{height:%?80?%!important;line-height:%?80?%!important}.tc_wrap .tc_btn_box .tc_btn_huise_err[data-v-3331be35]{flex:1;background-image:linear-gradient(90deg,#fe9400,#ff3d22)!important;color:#fff;border-radius:%?200?%;padding:0 0;height:%?80?%!important;line-height:%?80?%!important;text-align:center}.tc_wrap .tc_btn_box .tc_btn_huise_err .u-size-default[data-v-3331be35]{height:%?80?%!important;line-height:%?80?%!important}",""]),t.exports=e},"7fe7":function(t,e,i){"use strict";var a=i("d142"),n=i.n(a);n.a},b6e4:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}));var a={uIcon:i("21cf").default,uInput:i("dab7").default,uRadioGroup:i("5096").default,uRadio:i("4201").default,uButton:i("eeee").default,uPopup:i("627b").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",[i("v-uni-map",{ref:"map",staticStyle:{width:"100%"},style:{height:t.mapH+"px"},attrs:{id:"map","enable-scroll":!0,scale:t.scaleSize,latitude:t.latitude,longitude:t.longitude,controls:t.controls,"enable-poi":!0}},[i("v-uni-cover-view",{staticStyle:{width:"100%",height:"100%"}})],1),i("v-uni-cover-image",{staticClass:"controls-location",style:{left:t.controlsLeft+"px",top:t.controlsTop+"px"},attrs:{src:t.positionIcon}})],1),i("v-uni-view",{staticClass:"jianbianse"}),i("v-uni-view",{staticClass:"add_res_wrap"},[0!=Object.keys(t.addressData).length?i("v-uni-view",{staticClass:"yixuandizhi"},[i("v-uni-view",{staticClass:"yx_name"},[i("v-uni-view",[t._v(t._s(t.addressData.address.poistitle))]),i("v-uni-view",[t._v(t._s(t.addressData.address.address))])],1),i("v-uni-view",{staticClass:"yx_xg",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.Toxuanze()}}},[t._v("修改地址")])],1):t._e(),i("v-uni-view",{staticClass:"add_res_box"},[0===Object.keys(t.addressData).length?i("v-uni-view",{staticClass:"xz_dz",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.Toxuanze()}}},[i("v-uni-view",[t._v("选择收货地址"),i("u-icon",{attrs:{name:"arrow-right",size:"22",color:"#FF4910"}})],1)],1):t._e(),i("v-uni-view",{staticClass:"inout_box"},[i("v-uni-view",{staticClass:"input_title"},[t._v("门牌号")]),i("v-uni-view",{staticClass:"input_k"},[i("u-input",{attrs:{focus:!1,type:"text",border:!1,placeholder:"详细地址，例1层101室"},model:{value:t.menpai,callback:function(e){t.menpai=e},expression:"menpai"}})],1)],1),i("v-uni-view",{staticClass:"inout_box"},[i("v-uni-view",{staticClass:"input_title"},[t._v("联系人")]),i("v-uni-view",{staticClass:"input_k"},[i("u-input",{attrs:{type:"text",border:!1,placeholder:"请填写收货人的姓名"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),i("v-uni-view",{staticClass:"xingbie"},[i("u-radio-group",{attrs:{"active-color":"#FF8F3D",size:"32"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.radioGroupChange.apply(void 0,arguments)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.list,(function(e,a){return i("u-radio",{key:a,attrs:{"label-size":"28",name:e.name,disabled:e.disabled}},[t._v(t._s(e.name))])})),1)],1)],1),i("v-uni-view",{staticClass:"inout_box"},[i("v-uni-view",{staticClass:"input_title"},[t._v("手机号")]),i("v-uni-view",{staticClass:"input_k"},[i("u-input",{attrs:{maxlength:"11",type:"number",border:!1,placeholder:"请填写收货人手机号码"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1)],1),i("v-uni-view",{staticClass:"inout_box",staticStyle:{padding:"24rpx 0"}},[i("v-uni-view",{staticClass:"input_title"},[t._v("是否默认")]),i("v-uni-view",{staticClass:"input_k"},[i("v-uni-view")],1),i("v-uni-view",{staticClass:"xingbie"},[i("u-radio-group",{attrs:{"active-color":"#FF8F3D",size:"32"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.radioGroupChange22.apply(void 0,arguments)}},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}},t._l(t.list2,(function(e,a){return i("u-radio",{key:a,attrs:{"label-size":"28",name:e.name,disabled:e.disabled}},[t._v(t._s(e.name))])})),1)],1)],1),i("v-uni-view",{staticClass:"lijipay"},[i("v-uni-view",{staticClass:"btn_b"},[i("u-button",{attrs:{type:"primary",shape:"circle",ripple:!1},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.baocun()}}},[t._v("保存")])],1),i("v-uni-view",{staticClass:"btn_d"},[i("u-button",{attrs:{type:"info",shape:"circle",ripple:!1},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.fensiqun_Show=!0}}},[t._v("删除")])],1)],1)],1)],1),i("u-popup",{attrs:{mode:"center",width:"524","border-radius":"28","mask-close-able":!1},model:{value:t.fensiqun_Show,callback:function(e){t.fensiqun_Show=e},expression:"fensiqun_Show"}},[i("v-uni-view",{staticClass:"tc_wrap"},[i("v-uni-view",{staticClass:"tc_images",staticStyle:{"padding-top":"20rpx",margin:"0 0 0 0"}},[i("v-uni-image",{attrs:{src:t.BestImgUrl+"noAddrss.png"}})],1),i("v-uni-view",{staticClass:"tc_info"},[i("v-uni-view",[t._v("删除地址")]),i("v-uni-view",{staticStyle:{color:"#999"}},[t._v("地址删除后无法恢复，是否删除？")])],1),i("v-uni-view",{staticClass:"tc_btn_box"},[i("v-uni-view",{staticClass:"tc_btn_huise"},[i("u-button",{attrs:{type:"info",shape:"circle",ripple:!1},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.fensiqun_Show=!1}}},[t._v("取消")])],1),i("v-uni-view",{staticClass:"tc_btn_huise_err"},[i("u-button",{attrs:{type:"primary",shape:"circle",ripple:!1},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.deladdres()}}},[t._v("删除")])],1)],1)],1)],1)],1)},s=[]},d142:function(t,e,i){var a=i("6422");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("3ade9ecc",a,!0,{sourceMap:!1,shadowMode:!1})},ecef:function(t,e,i){"use strict";i.r(e);var a=i("b6e4"),n=i("004f");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("7fe7");var o=i("f0c5"),d=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"3331be35",null,!1,a["a"],void 0);e["default"]=d.exports}}]);